'From Pharo12.0.0SNAPSHOT of 28 March 2025 [Build information: Pharo-12.0.0+SNAPSHOT.build.1568.sha.a05651321a7202ae7692eef252cf2759be4102ae (64 Bit)] on 3 April 2025 at 12:25:43.017 am'!CMAbstractModel subclass: #CalcUI	instanceVariableNames: 'model display displayMorph'	classVariableNames: ''	package: 'Calculator-UI'!!CalcUI methodsFor: 'initialization' stamp: '4/2/2025 21:53'!initialize    "Initialize the UI with a model instance and setup display"    model := CalcModel new.    display := '0'.! !!CalcUI methodsFor: 'updating' stamp: '4/2/2025 23:17'!updateDisplay    "Ensure the display updates when numbers are pressed."    displayMorph contents: model getCurrentValue asString.    displayMorph changed. "Forces UI refresh"! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 21:54'!pressNumber: aNumber    "Handle number button press"    model updateValue: aNumber.    self updateDisplay.! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 21:54'!pressOperator: anOperator    "Handle operator button press"    model setOperator: anOperator.    self updateDisplay.! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 21:54'!pressEquals    "Handle equals button press and compute result"    model computeResult.    self updateDisplay.! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 21:54'!pressClear    "Handle clear button press"    model clear.    self updateDisplay.! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 21:55'!getDisplay    "Getter for display text"    ^ display.! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 23:16'!createDisplay    "Create a text display for showing input and results."    displayMorph := TextMorph new.    displayMorph contents: model getCurrentValue asString.    displayMorph width: 200.    displayMorph height: 40.    displayMorph beAllFont: (LogicalFont familyName: 'Arial' pointSize: 18).    displayMorph borderWidth: 2. "Adds a border for visibility"    ^ displayMorph.! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 23:22'!createButtonPanel    "Create a panel with buttons arranged in a 4x4 grid layout."    | panel buttonLabels rowMorph |    panel := Morph new.    panel layoutPolicy: TableLayout new.    buttonLabels := #(        ('7' '8' '9' '+')        ('4' '5' '6' '-')        ('1' '2' '3' '*')        ('C' '0' '=' '/')    ).    buttonLabels do: [ :row |        rowMorph := Morph new.        rowMorph layoutPolicy: RowLayout new.  "Fix: Proper row alignment"        row do: [ :label |            | button |            button := SimpleButtonMorph new.            button label: label.            button target: self.            button actionSelector: #buttonPressed:.            button arguments: { label }.            button extent: 50@50.  "Fix: Consistent button size"            rowMorph addMorph: button.        ].        panel addMorph: rowMorph.    ].    ^ panel.self updateDisplay.! !!CalcUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 23:06'!buttonPressed: label    "Handle button presses and pass actions to appropriate methods."        (label first isDigit) ifTrue: [ self pressNumber: label asNumber ].    (#('+', '-', '*', '/') includes: label) ifTrue: [ self pressOperator: label asSymbol ].    (label = '=') ifTrue: [ self pressEquals ].    (label = 'C') ifTrue: [ self pressClear ].    self updateDisplay.! !!CalcUI methodsFor: 'instance creation' stamp: '4/2/2025 23:17'!open    "Open the calculator UI in a Morphic window."    | window |    window := SystemWindow labelled: 'Pharo Calculator'.    window addMorph: self createDisplay frame: (0@0 corner: 1@0.2).    window addMorph: self createButtonPanel frame: (0@0.2 corner: 1@1).    window openInWorld.! !