'From Pharo12.0.0SNAPSHOT of 28 March 2025 [Build information: Pharo-12.0.0+SNAPSHOT.build.1568.sha.a05651321a7202ae7692eef252cf2759be4102ae (64 Bit)] on 3 April 2025 at 12:25:56.866 am'!CMAbstractModel subclass: 'AnObsoleteCalcMorphUI'	instanceVariableNames: 'controller displayField model'	classVariableNames: ''	package: 'Calculator-MorphicUI'!!AnObsoleteCalcMorphUI methodsFor: 'initialization' stamp: '4/2/2025 22:07'!initialize    "Initialize Morphic UI and connect controller."    super initialize.    controller := CalcController new.    self createUI.! !!AnObsoleteCalcMorphUI methodsFor: 'initialization' stamp: '4/2/2025 22:08'!setDisplayText: newText    "Prevent manual input (does nothing)."    "This ensures the text field is only updated via button presses."! !!AnObsoleteCalcMorphUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 22:39'!createUI    | window displayField buttonPanel buttonPairs |    "Ensure the model is initialized"    model ifNil: [ model := CalcModel new ].    "Create the main window"    window := SystemWindow labelled: 'Calculator'.    "Create the display field"    displayField := PluggableTextMorph         on: self         text: #getDisplayText          accept: nil.  "No editing, so accept is nil"        displayField beReadOnly.    displayField extent: 200@50.    "Create a button panel with a TableLayout"    buttonPanel := Morph new.    buttonPanel layoutPolicy: TableLayout new.    buttonPanel cellInset: 2.    buttonPanel spacing: 2.    "Define buttons in a Dictionary"    buttonPairs := Dictionary new.    buttonPairs at: '7' put: [ self pressNumber: 7 ].    buttonPairs at: '8' put: [ self pressNumber: 8 ].    buttonPairs at: '9' put: [ self pressNumber: 9 ].    buttonPairs at: '/' put: [ self pressOperator: #/ ].    buttonPairs at: '4' put: [ self pressNumber: 4 ].    buttonPairs at: '5' put: [ self pressNumber: 5 ].    buttonPairs at: '6' put: [ self pressNumber: 6 ].    buttonPairs at: '*' put: [ self pressOperator: #* ].    buttonPairs at: '1' put: [ self pressNumber: 1 ].    buttonPairs at: '2' put: [ self pressNumber: 2 ].    buttonPairs at: '3' put: [ self pressNumber: 3 ].    buttonPairs at: '-' put: [ self pressOperator: #- ].    buttonPairs at: '0' put: [ self pressNumber: 0 ].    buttonPairs at: 'C' put: [ self pressClear ].    buttonPairs at: '=' put: [ self pressEquals ].    buttonPairs at: '+' put: [ self pressOperator: #+ ].    "Create buttons dynamically"    buttonPairs keysAndValuesDo: [:label :action |        | btn |        btn := PluggableButtonMorph new.        btn label: label.        btn action: action.        btn extent: 50@50.        buttonPanel addMorph: btn.    ].    "Add the display field and button panel to the main window"    window addMorph: displayField frame: (0@0 corner: 1@0.2).    window addMorph: buttonPanel frame: (0@0.2 corner: 1@1).    window openInWorld.! !!AnObsoleteCalcMorphUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 22:05'!createButtonsFor: window    | buttonPanel |    buttonPanel := Morph new.    buttonPanel layoutPolicy: TableLayout new.    "Add Number Buttons"    (1 to: 9) do: [:num |        buttonPanel addMorph: (self button: num asString action: [ controller handleNumberPress: num. self updateDisplay ]).    ].    "Add Operators"    #('+', '-', '*', '/') do: [:op |        buttonPanel addMorph: (self button: op action: [ controller handleOperatorPress: op. self updateDisplay ]).    ].    "Equals and Clear"    buttonPanel addMorph: (self button: '=' action: [ controller handleEqualsPress. self updateDisplay ]).    buttonPanel addMorph: (self button: 'C' action: [ controller handleClearPress. self updateDisplay ]).    window addMorph: buttonPanel frame: (0@0.2 corner: 1@1).! !!AnObsoleteCalcMorphUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 22:05'!button: label action: block    "Helper method to create buttons"    ^ (SimpleButtonMorph new)        label: label;        target: block;        actionSelector: #value;        yourself.! !!AnObsoleteCalcMorphUI methodsFor: 'as yet unclassified' stamp: '4/2/2025 22:17'!getDisplayText    ^ model getCurrentValue asString.! !!AnObsoleteCalcMorphUI methodsFor: 'updating' stamp: '4/2/2025 22:05'!updateDisplay    "Refresh UI display with controller value."    displayField contents: controller getDisplayValue asString.! !